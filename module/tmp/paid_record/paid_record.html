<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv = "Content-Type" content = "text/html; charset=utf-8">
  <meta http-equiv = "X-UA-Compatible" content = "IE=edge">
  <meta name = "viewport" content = "width=device-width, initial-scale=1">
  <link rel = "stylesheet" href = "../../plugin/bootstrap/3.3.7/css/bootstrap.css">
  <link rel = "stylesheet" href = "../../plugin/jquery_ui/1.12.1/jquery-ui.min.css">
  <link rel = "stylesheet" href = "../../plugin/jquery_timepicker_addon/1.6.3/jquery-ui-timepicker-addon.css" />
  <link rel = "stylesheet" href = "../../css/custom_modal.css">
  <link rel = "stylesheet" href = "../upload_attachment/upload_attachment.css"/>
  <link rel = "stylesheet" href = "paid_record.css">
  <script src = "../../plugin/jquery/1.12.4/jquery.min.js"></script>    
  <script src = "../../plugin/jquery_ui/1.12.1/jquery-ui.min.js"></script>
  <script src = "../../plugin/bootstrap/3.3.7/js/bootstrap.js"></script>
  <script src = "../../plugin/jquery_timepicker_addon/1.6.3/jquery-ui-timepicker-addon.min.js"></script>
  <script src = "../../plugin/jquery_timepicker_addon/1.6.3/init.js"></script>
  <script src = "../../js/toolkit.js"></script>
  <script src = "../../js/configure.js"></script>
  <script src = "../upload_attachment/upload_attachment.js" type = "text/javascript" charset = "utf-8"></script>
  <script src = "paid_record.js"></script>
  <script>
    $(document).ready(function() {
      paid_record_output("#paid_record_content");
      // 日历插件
      widget_datepicker_init();
      // 清空原始数据
      paid_record_clear_raw_data();
      // 服务器数据
      paid_record_server_data_cover();
      // 加载数据
      paid_record_fill_variable_data();
      // 添加收付款记录模态框
      $(document).on("click", "#paid_record_add_modle", function() {
        var contract_code = $(this).attr("contract_code");
        var contract_uuid = $(this).attr("contract_uuid");
        console.log(contract_code);
        console.log(contract_uuid);
        paid_record_add_modle_func(contract_code, contract_uuid);
      });
      // 添加收付款数据
      $(document).on("click", "#paid_record_add_modle_prop_btn", function() {
        var contract_code = $(this).attr("contract_code");
        var contract_uuid = $(this).attr("contract_uuid");
        paid_record_add_data_func(contract_code, contract_uuid);
      });
      // 修改收付款记录模态框
      $(document).on("click", ".paid_record_modle_pencil", function() {
        var uuid = $(this).attr("uuid");
        var contract_code = $(this).attr("contract_code");
        paid_record_get_record(uuid, contract_code);
        paid_record_edit_modal(uuid, contract_code);
      });
      // 修改收付款数据
      $(document).on("click", "#paid_record_edit_modal .edit_btn", function() {
        var uuid = $(this).attr("uuid");
        var contract_code = $(this).attr("contract_code");
        paid_record_edit_data(uuid, contract_code);
      });
      // 收付款记录详情模态框
      $(document).on("click", ".paid_record_modle_info", function() {
        var uuid = $(this).attr("uuid");
        var contract_code = $(this).attr("contract_code");
        paid_record_get_record(uuid, contract_code);
        paid_record_detail_modal();
      });
      // 删除收付款记录模态框
      $(document).on("click", ".paid_record_modle_remove", function() {
        var uuid = $(this).attr("uuid");
        var contract_code = $(this).attr("contract_code");
        paid_record_delete_modal(uuid);
      });
      // 删除收付款数据
      $(document).on("click", "#paid_record_delete_modal .remove", function() {
        var uuid = $(this).attr("uuid");
        var contract_code = $(this).attr("contract_code");
        paid_record_delete_data(uuid);
      });
    });
  </script>
</head>
<body>
  <div class="" id = "paid_record_content"></div>
</body>
</html>
