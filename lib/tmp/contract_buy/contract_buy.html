<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv = "Content-Type" content = "text/html; charset=utf-8">
  <meta http-equiv = "X-UA-Compatible" content = "IE=edge">
  <meta name = "viewport" content = "width=device-width, initial-scale=1">
  <link rel = "stylesheet" href = "../../plugin/bootstrap/3.3.7/css/bootstrap.css">
  <link rel = "stylesheet" href = "../../plugin/jquery_ui/1.12.1/jquery-ui.min.css">
  <link rel = "stylesheet" href = "../../plugin/jquery_timepicker_addon/1.6.3/jquery-ui-timepicker-addon.css" />
  <link rel = "stylesheet" href="../../plugin/icheck/1.x/skins/all.css" type = "text/css"/>
  <link rel = "stylesheet" href = "../../css/custom_modal.css">
  <link rel = "stylesheet" href = "../upload_attachment/upload_attachment.css"/>
  <!--物流合同样式-->
  <link rel = "stylesheet" href = "../contract_logistics/contract_logistics.css">
  <!--物流对账单样式-->
  <link rel = "stylesheet" href = "../settlement_bill_logistics/settlement_bill_logistics.css">
  <!--车船信息样式-->
  <link rel = "stylesheet" href = "../vehicle_information/vehicle_information.css">
  <!--销售结算函样式-->
  <link rel = "stylesheet" href = "../settlement_bill_sale/settlement_bill_sale.css">
  <!--发票信息样式-->
  <link rel = "stylesheet" href = "../invoice_information/invoice_information.css">
  <!--销售合同样式-->
  <link rel = "stylesheet" href = "contract_buy.css">
  <script src = "../../plugin/jquery/1.12.4/jquery.min.js"></script>    
  <script src = "../../plugin/jquery_ui/1.12.1/jquery-ui.min.js"></script>
  <script src = "../../plugin/bootstrap/3.3.7/js/bootstrap.js"></script>
  <script src = "../../plugin/jquery_timepicker_addon/1.6.3/jquery-ui-timepicker-addon.min.js"></script>
  <script src = "../../plugin/icheck/1.x/icheck.js" type = "text/javascript" charset="utf-8"></script>
  <script src = "../../plugin/jquery_timepicker_addon/1.6.3/init.js"></script>
  <script src = "../../js/toolkit.js"></script>
  <script src = "../../js/configure.js"></script>
  <script src = "../upload_attachment/upload_attachment.js" type = "text/javascript" charset = "utf-8"></script>
  <!--收款记录-->
  <script src = "../paid_record/paid_record.js"></script>
  <!--物流合同-->
  <script src = "../contract_logistics/contract_logistics.js"></script>
  <!--物流对账单-->
  <script src = "../settlement_bill_logistics/settlement_bill_logistics.js"></script>
  <!--车船信息-->
  <script src = "../vehicle_information/vehicle_information.js"></script>
  <!--销售结算函-->
  <script src = "../settlement_bill_sale/settlement_bill_sale.js"></script>
  <!--发票信息-->
  <script src = "../invoice_information/invoice_information.js"></script>
  <!--本页销售合同-->
  <script src = "contract_buy_all_penle.js"></script>
  <script src = "contract_logistics_all_panle.js"></script>
  <script src = "contract_buy.js"></script>
  <script>
    $(document).ready(function() {
//    contract_buy_output("#contract_buy_content");
      //日历插件
      widget_datepicker_init();
      //清空原始数据
      contract_buy_clear_raw_data();
      //服务器数据
      contract_buy_server_data_cover("0");
      //加载数据
      contract_buy_fill_variable_data();
      //搜索获取购买方和销售方
      contract_buy_enterprise_data_val();
      //搜索库区
      contract_buy_warehouse_data_val();
      //分页
      $(document).on("click", "#contract_buy_pages li", function() {
        contract_buy_pages_fun($(this));
      });
      //添加销售合同模态框
      $(document).on("click", "#contract_buy_add_modle", function() {
        contract_buy_add_modle_func();
      });
      //添加销售合同数据
      $(document).on("click", "#contract_buy_add_modle_prop_btn", function() {
        contract_buy_add_data_func($(this), "0");
      });
      //修改销售合同模态框
      $(document).on("click", ".contract_buy_modle_pencil", function() {
        contract_buy_edit_modle_func($(this), "0");
      });
      //修改销售合同数据
      $(document).on("click", "#contract_buy_edit_modle_prop_btn", function() {
        contract_buy_edit_data_func($(this), "0");
      });
      //删除销售合同模态框
      $(document).on("click", ".contract_buy_modle_remove", function() {
        contract_buy_delete_modle_func($(this));
      });
      //删除销售合同数据
      $(document).on("click", "#contract_buy_delete_modle_prop_btn", function() {
        contract_buy_delete_data_func($(this));
      });
      //详情
      $(document).on("click", ".contract_buy_modle_info", function() {
        contract_buy_info_modle_func($(this), "0");
      });
      //合同展开详情按钮
      $(document).on("click", ".contract_buy_open_btn", function() {
        contract_buy_open_info_func($(this));
      });
      //数据筛选
      $(document).on("ifClicked", ".contract_buy_data_screening_btn", function() {
        contract_buy_data_screening_func($(this));
      });
      //合同号搜索
      $(document).on("click", "#contract_buy_search_btn", function() {
        contract_buy_search_btn_func();
      });
      //合同模糊搜索
      $(document).on("click", "#contract_buy_search_fuzzy_btn", function() {
        contract_buy_search_fuzzy_btn_func();
      });
      //复选框
      $("[type='checkbox']").iCheck({
        checkboxClass: 'icheckbox_square-blue',
      });
      //收款记录////////////////////////////////////
      
      //物流合同////////////////////////////////////
      $(document).on("click", "#contract_logistics_add_modle", function() {
        contract_logistics_add_modle_func($(this));
      });
      //添加物流合同数据
      $(document).on("click", "#contract_logistics_add_data_btn", function() {
        contract_logistics_add_data_func($(this));
      });
      //修改物流合同模态框
      $(document).on("click", ".contract_logistics_modle_pencil", function() {
        contract_logistics_edit_modle_func($(this));
      });
      //修改物流合同数据
      $(document).on("click", "#contract_logistics_edit_data_btn", function() {
        contract_logistics_edit_data_func($(this));
      });
      //删除物流合同模态框
      $(document).on("click", ".contract_logistics_modle_remove", function() {
        contract_logistics_delete_modle_func($(this));
      });
      //删除物流合同数据
      $(document).on("click", "#contract_logistics_delete_modle_prop_btn", function() {
        contract_logistics_delete_data_func($(this));
      });
      //详情
      $(document).on("click", ".contract_logistics_modle_info", function() {
        contract_logistics_info_modle_func($(this));
      });
      //合同展开详情按钮
      $(document).on("click", ".contract_logistics_open_btn", function() {
        contract_logistics_open_info_func($(this));
      });
      
      //车船信息/////////////////////////////////////
      $(document).on("click", "#vehicle_information_add_modle", function() {
        vehicle_information_add_modle_func($(this));
      });
      //添加车船信息数据
      $(document).on("click", "#vehicle_information_add_data_btn", function() {
        vehicle_information_add_data_func($(this));
      });
      //修改车船信息模态框
      $(document).on("click", ".vehicle_information_modle_pencil", function() {
        vehicle_information_edit_modle_func($(this));
      });
      //修改车船信息数据
      $(document).on("click", "#vehicle_information_edit_data_btn", function() {
        vehicle_information_edit_data_func($(this));
      });
      //删除车船信息模态框
      $(document).on("click", ".vehicle_information_modle_remove", function() {
        vehicle_information_delete_modle_func($(this));
      });
      //删除车船信息数据
      $(document).on("click", "#vehicle_information_delete_modle_prop_btn", function() {
        vehicle_information_delete_data_func($(this));
      });
      //详情
      $(document).on("click", ".vehicle_information_modle_info", function() {
        vehicle_information_info_modle_func($(this));
      });
      //合同展开详情按钮
      $(document).on("click", ".vehicle_information_open_btn", function() {
        vehicle_information_open_info_func($(this));
      });
      //销售结算函/////////////////////////////////////////
      //添加销售结算函模态框
      $(document).on("click", "#settlement_bill_sale_add_modle", function() {
        settlement_bill_sale_add_modle_func($(this));
      });
      //合计 应退货款
      $(document).on("blur",".volume_corresponding,.price_corresponding,.amount_corresponding",function(){
        all_should_change($(this));
      });
      //添加销售结算函数据
      $(document).on("click", "#settlement_bill_sale_add_data_btn", function() {
        settlement_bill_sale_add_data_func($(this), "1", "2");
      });
      //修改销售结算函模态框
      $(document).on("click", ".settlement_bill_sale_modle_pencil", function() {
        settlement_bill_sale_edit_modle_func($(this));
      });
      //修改销售结算函数据
      $(document).on("click", "#settlement_bill_sale_edit_data_btn", function() {
        settlement_bill_sale_edit_data_func($(this), "1", "2");
      });
      //删除销售结算函模态框
      $(document).on("click", ".settlement_bill_sale_modle_remove", function() {
        settlement_bill_sale_delete_modle_func($(this));
      });
      //删除销售结算函数据
      $(document).on("click", "#settlement_bill_sale_delete_modle_prop_btn", function() {
        settlement_bill_sale_delete_data_func($(this));
      });
      //详情
      $(document).on("click", ".settlement_bill_sale_modle_info", function() {
        settlement_bill_sale_info_modle_func($(this));
      });
      //发票信息
      //税率
      $(document).on("focus", ".invoice_information_tax_rate", function(){
        invoice_information_tax_focus_change($(this));
      });
      $(document).on("blur", ".invoice_information_tax_rate", function(){
        invoice_information_tax_blur_change($(this));
      });
      //合计
      $(document).on("blur",".invoice_information_quantity,.invoice_information_price",function(){
        all_should_change_price($(this));
      });
      //添加发票信息模态框
      $(document).on("click", "#invoice_information_add_modle", function() {
        invoice_information_add_modle_func($(this));
      });
      //添加发票信息数据
      $(document).on("click", "#invoice_information_add_data_btn", function() {
        invoice_information_add_data_func($(this));
      });
      //修改发票信息模态框
      $(document).on("click", ".invoice_information_modle_pencil", function() {
        invoice_information_edit_modle_func($(this));
      });
      //修改发票信息数据
      $(document).on("click", "#invoice_information_edit_data_btn", function() {
        invoice_information_edit_data_func($(this));
      });
      //删除发票信息模态框
      $(document).on("click", ".invoice_information_modle_remove", function() {
        invoice_information_delete_modle_func($(this));
      });
      //删除发票信息数据
      $(document).on("click", "#invoice_information_delete_modle_prop_btn", function() {
        invoice_information_delete_data_func($(this));
      });
      //详情
      $(document).on("click", ".invoice_information_modle_info", function() {
        invoice_information_info_modle_func($(this));
      });
      //物流对账单///////////////////////////////
      $(document).on("click", "#settlement_bill_logistics_add_modle", function() {
        settlement_bill_logistics_add_modle_func($(this));
      });
      //实际损耗
      $(document).on("blur",".unload_quantity_blur,.load_quantity_blur",function(){
        actual_loss_change($(this));
      });
      //结算量  发票数量的关系
      $(document).on("blur",".volume_corresponding",function(){
        volume_corresponding__change($(this));
      });
      //添加物流对账单数据
      $(document).on("click", "#settlement_bill_logistics_add_data_btn", function() {
        settlement_bill_logistics_add_data_func($(this));
      });
      //修改物流对账单模态框
      $(document).on("click", ".settlement_bill_logistics_modle_pencil", function() {
        settlement_bill_logistics_edit_modle_func($(this));
      });
      //修改物流对账单数据
      $(document).on("click", "#settlement_bill_logistics_edit_data_btn", function() {
        settlement_bill_logistics_edit_data_func($(this));
      });
      //删除物流对账单模态框
      $(document).on("click", ".settlement_bill_logistics_modle_remove", function() {
        settlement_bill_logistics_delete_modle_func($(this));
      });
      //删除物流对账单数据
      $(document).on("click", "#settlement_bill_logistics_delete_modle_prop_btn", function() {
        settlement_bill_logistics_delete_data_func($(this));
      });
      //详情
      $(document).on("click", ".settlement_bill_logistics_modle_info", function() {
        settlement_bill_logistics_info_modle_func($(this));
      });
    });
  </script>
</head>
<body>
  <div id = "contract_buy_content"></div>
  <div class = "panel panel-primary">
    <div class = "panel-heading clearfix">销售合同管理<span class = "glyphicon glyphicon-plus pull-right" id = "contract_buy_add_modle"></span></div>
    <div class = "panel-body">
      <div class = "container-fluid">
        <div class = "row">
          <div class = "col-lg-2">
            <div class = "input-group">
              <div class = "input-group-addon">购买方</div>
              <select class = "form-control" id = "contract_buy_buyer" value = "">
              </select>
            </div>
          </div>
          <div class = "col-lg-2">
            <div class = "input-group">
              <div class = "input-group-addon">销售方</div>
              <select class = "form-control" id = "contract_buy_saller" value = "">
              </select>
            </div>
          </div>
          <div class = "col-lg-2">
            <div class = "input-group">
              <span class = "input-group-addon">名称</span>
              <input type = "text" class = "form-control" id = "contract_buy_search_product_name_fuzzy">
            </div>
          </div>
          <div class = "col-lg-2">
            <div class = "input-group">
              <span class = "input-group-addon">品类</span>
              <input type = "text" class = "form-control" id = "contract_buy_search_real_name_fuzzy">
            </div>
          </div>
          <div class = "col-lg-2">
            <div class = "input-group">
              <span class = "input-group-addon" >来源库区</span>
              <select class = "form-control" value = "" id = "contract_buy_search_warehouse_uuid">
              </select>
             </div>
          </div>
          <div class = "col-lg-2">
            <div class = "input-group">
              <span class = "input-group-addon">发票状态</span>
              <select class = "form-control" value = "" id = "contract_buy_invoice">
                <option value = "">--请选择--</option>
                <option value = "1">已收到</option>
                <option value = "0">未收到</option>
              </select>
            </div>
          </div>
        </div>
        <div class = "row contract_buy_mt20">
          <div class = "col-lg-2">
            <div class = "form-group has-feedback">
              <div class = "input-group">
                <span class = "input-group-addon">签署时间（起）</span>
                <input type = "text" class = "form-control widget_datepicker" value = "" id = "contract_buy_search_start_sign_datetime">
              </div>
              <span class = "glyphicon glyphicon-calendar form-control-feedback" ></span>
            </div>
          </div>
          <div class = "col-lg-2">
            <div class = "form-group has-feedback">
              <div class = "input-group">
                <span class = "input-group-addon">签署时间（止）</span>
                <input type = "text" class = "form-control widget_datepicker" id = "contract_buy_search_end_sign_datetime" value = "">
              </div>
              <span class = "glyphicon glyphicon-calendar form-control-feedback" ></span>
            </div>
          </div>
          <div class = "col-lg-2" id = "contract_buy_search_fuzzy_btn">
            <div class = "input-group">
              <button type = "button" class = "btn btn-primary">搜索</button>
            </div>
          </div>
          <div class = "col-lg-6">
            <div class = "input-group">
              <div class = "input-group-addon">合同编号</div>
              <input type = "text" class = "form-control" id = "contract_buy_search_input">
              <span class = "input-group-btn" id = "contract_buy_search_btn">
                <button class = "btn btn-primary " type = "button"><span class = "glyphicon glyphicon-search"></span></button>
              </span>
            </div>
          </div>
        </div>
        <div class = "row">
          <div class = "col-lg-12">
            <div class = "panel panel-primary">
              <div class = "panel-heading">数据显示筛选</div>
              <table class = "table" width = "100%" border = "0" cellpadding = "0" cellspacing = "0">
                <tr class = "companyInfo">
                  <td align = "center">
                    <div class = "icheckbox_square-blue">
                      <input type = "checkbox" class = "contract_buy_data_screening_btn" id = "contract_buy_records_checkbox" checked = "checked">
                    </div>
                    <label for = "contract_buy_records_checkbox">收款记录</label>
                  </td>
                  <td align = "center">
                    <div class = "icheckbox_square-blue">
                      <input type = "checkbox" class = "contract_buy_data_screening_btn" id = "contract_buy_logistics_checkbox" checked = "checked">
                    </div>
                    <label for = "contract_buy_logistics_checkbox">物流合同</label>
                  </td>
                  <td align = "center">
                    <div class = "icheckbox_square-blue">
                      <input type = "checkbox" class = "contract_buy_data_screening_btn" id = "contract_buy_transport_checkbox" checked = "checked">
                    </div>
                    <label for = "contract_buy_transport_checkbox">车船信息</label>
                  </td>
                  <td align = "center">
                    <div class = "icheckbox_square-blue">
                      <input type = "checkbox" class = "contract_buy_data_screening_btn" id = "contract_buy_pick_checkbox" checked = "checked">
                    </div>
                    <label for = "contract_buy_pick_checkbox">提货委托函</label>
                  </td>
                  <td align = "center">
                    <div class = "icheckbox_square-blue">
                      <input type = "checkbox" class = "contract_buy_data_screening_btn" id = "contract_buy_confirm_checkbox" checked = "checked">
                    </div>
                    <label for = "contract_buy_confirm_checkbox">货物确认函</label>
                  </td>
                  <td align = "center">
                    <div class = "icheckbox_square-blue">
                      <input type = "checkbox" class = "contract_buy_data_screening_btn" id = "contract_buy_settlement_checkbox" checked = "checked">
                    </div>
                    <label for = "contract_buy_settlement_checkbox">销售结算函</label>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>
        <div class = "row">
          <div class = "col-lg-12">
            <table cellpadding = "0" cellspacing = "0" border = "0" width = "100%" class = "table">
              <thead>
                <tr>
                  <th>展开详情</th>
                  <th>合同编号</th>
                  <th>购买方</th>
                  <th>销售方</th>
                  <th>名称</th>
                  <th>品类</th>
                  <th>单价</th>
                  <th>数量（吨）</th>
                  <th>合计</th>
                  <th>交货时间</th>
                  <th>&nbsp;</th>
                </tr>
              </thead>
              <tbody id = "contract_buy_box">
                <tr>
                  <td><button type = "button" class = "btn btn-info btn-xs"><span class = "glyphicon glyphicon-chevron-up"></span></button></td>
                  <td>fj-xy-170604</td>
                  <td>福记</td>
                  <td>细语</td>
                  <td>加技术</td>
                  <td>95</td>
                  <td>4512</td>
                  <td>300</td>
                  <td>154879</td>
                  <td>2017-06-04</td>
                  <td>
                    <span class = "glyphicon glyphicon-info-sign contract_buy_ml15"></span>
                    <span class = "glyphicon glyphicon-pencil contract_buy_ml15"></span>
                    <span class = "glyphicon glyphicon-remove contract_buy_ml15"></span>
                  </td>
                </tr>
                <tr>
                  <td><button type = "button" class = "btn btn-info btn-xs"><span class = "glyphicon glyphicon-chevron-up"></span></button></td>
                  <td>fj-xy-170604</td>
                  <td>福记</td>
                  <td>细语</td>
                  <td>加技术</td>
                  <td>95</td>
                  <td>4512</td>
                  <td>300</td>
                  <td>154879</td>
                  <td>2017-06-04</td>
                  <td>
                    <span class = "glyphicon glyphicon-info-sign contract_buy_ml15"></span>
                    <span class = "glyphicon glyphicon-pencil contract_buy_ml15"></span>
                    <span class = "glyphicon glyphicon-remove contract_buy_ml15"></span>
                  </td>
                </tr>
                <tr>
                  <td><button type = "button" class = "btn btn-info btn-xs"><span class = "glyphicon glyphicon-chevron-up"></span></button></td>
                  <td>fj-xy-170604</td>
                  <td>福记</td>
                  <td>细语</td>
                  <td>加技术</td>
                  <td>95</td>
                  <td>4512</td>
                  <td>300</td>
                  <td>154879</td>
                  <td>2017-06-04</td>
                  <td>
                    <span class = "glyphicon glyphicon-info-sign contract_buy_ml15"></span>
                    <span class = "glyphicon glyphicon-pencil contract_buy_ml15"></span>
                    <span class = "glyphicon glyphicon-remove contract_buy_ml15"></span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div id = "contract_buy_pages">
          <nav aria-label="Page navigation" style="text-align: right;">
            <ul class="pagination">
              <li class="active"><span href="#">1</span></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</body>
</html>